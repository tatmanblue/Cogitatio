@using Cogitatio.Models
<h3>Comments</h3>

<section class="comments">
    @if (allowComments == true)
    {
        @if (PostContent.Comments?.Any() == true)
        {
            <ul>
                @foreach (var comment in PostContent.Comments)
                {
                    <li>
                        <p><strong>@comment.Author</strong> says:</p>
                        <blockquote>@comment.Text</blockquote>
                        <p class="meta">@comment.PostedDate.ToString("MMMM dd, yyyy HH:mm")</p>
                    </li>
                }
            </ul>
        } 
        else 
        {
            <p>No comments yet. Be the first to comment!</p>
        }
        @if(userState.AccountState == UserAccountStates.CommentWithoutApproval 
            || userState.AccountState == UserAccountStates.CommentWithApproval
            || userState.AccountState == UserAccountStates.Moderator)
        {
            <!--
            <BlogCommentForm PostSlug="@PostContent.Slug" OnCommentSubmitted="HandleCommentSubmitted" />
            -->
            <span>This will be the place to add a comment</span>
        }
        else
        {
            <span style="text-align: center">To leave a comment,
                <NavLink href="/Login" class="btn btn-link">
                    please log in.
                </NavLink>
            </span>
        }
    }
    else
    {
        <span style="text-align: center">If you'd like to comment on this post,
            <NavLink href='@($"/Contact/{PostContent.Slug}")' class="btn btn-link">
            please reach out to me through the contact page.
            </NavLink>
            </span>
    }
</section>